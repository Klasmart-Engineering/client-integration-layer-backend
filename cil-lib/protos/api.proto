syntax = "proto3";
package cil_onboarding;

message Organization {
  string client_uuid = 1;
  string name = 2;
}

message School {
  string client_uuid = 1;
  string client_organization_uuid = 2;
  string name = 3;
  repeated string program_ids = 4;
  string short_code = 5;
}

message Class {
  string client_uuid = 1;
  string client_organization_uuid = 2;
  string name = 3;
  string client_school_uuid = 4;
  repeated string program_ids = 5;
  string short_code = 6;
}

message User {
  string client_uuid = 1;
  string client_organization_uuid = 2;
  string client_school_uuid = 3;
  string email = 4;
  string phone = 5;
  string username = 6;
  string given_name = 7;
  string family_name = 8;
  Gender gender = 9; 
  string date_of_birth = 10;
  repeated string class_ids = 11;
  repeated string role_ids = 12;
}

enum Gender {
  MALE = 0;
  FEMALE = 1;
}

message OnboardingRequest {
  oneof entity {
    Organization organization = 1;
    School school = 2;
    Class class = 3;
    User user = 4;
  }
  string request_id = 5;
}

message RequestInformation {
  string  request_id = 1;
}

service Onboarding {
  rpc OnboardSingle(OnboardingRequest) returns (RequestInformation) {};
  rpc OnboardMultiple(stream OnboardingRequest) returns (stream RequestInformation) {};
}

